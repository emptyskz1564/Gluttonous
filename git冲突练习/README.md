# Git冲突解决说明

## 冲突必然产生的原因

由于我们的前后端是完全分开的，所以前端提交时没有后台代码，后端提交时没有前端代码。于是，冲突就产生了。

## 如何避免冲突

+ 1、创建分支
  
  如果你是使用`git`命令行工具，则直接使用：

  ```bash
  git checkout -b <branch-name>
  ```

  如果需要将该分支与远程分支同步，则使用：

  ```bash
  git branch -b <branch-name-local> <remote>/<branch-name-remote>
  # 尖括号需要替换为参数，例如：git branch -b dev origin/dev
  ```

  如果你希望将`git`集成到`IDE`中，对于`IntelliJ`的软件你需要使用`2.10`及以上的版本。直接去官网下载非常慢，你可以选择**淘宝镜像**：[点击前往](http://npm.taobao.org/mirrors/git-for-windows/)。现在已经更新到`2.26`了

  而剩下的呢，就是项目小组长的事情了。当然我们并不提倡这样推锅，自己写的代码还是需要**自己**好好地合并到`master`分支中，因为前后端分离项目本身**就是**分开进行测试的，**而不是**由项目小组长最后整合测试。

  另外呢，虽然并没有规定这几个分支应该怎么命名，但是大家还是尊重一些规范。参照博客：[GIT分支命名规范](https://www.cnblogs.com/kobe1991/p/6944747.html)、[Git分支管理及命名规范](https://blog.csdn.net/fifteen718/article/details/80347550)

  + 集成分支
    
    经理把你塞进了一个项目小组，你也拿到了架构师给的项目架子。于是就需要创建新分支`dev-<version_id>`。这是**项目需求的开始**，也是**项目需求的结束**。
    
    假设你已经将一个需求分成了很多个子问题。这时你完成了其中一个子问题，你可以使用`feature`或者`version`加上版本号进行命名，附上详细的修改文档，如`打卡功能修改详情.md`，其中详细说明有哪些修改。

    版本号一般是以合并一次`master`分支为标记，记1次。

    如果你已经将一整个需求做完了，就合并为一个`dev`分支，后面加上版本号。

    同样的，`dev`分支合并一次，记0.1次

    而新的`dev`分支的出现，就会让人知道：“他**完成了**一个需求”。如果你没完成**但是**还是推了这个分支，你的下场惨不惨不知道，反正美国有两个已经被项目经理枪杀了，就地正法那种……

  + bug修复分支

    项目经理在交付客户之后，马上就给你报告了一堆bug，有**数据显示不正确**、**黄页**、**点击无反应**等等。虽然很无奈，但该做的还是得做。你便优先选择**数据显示不正确**，开始修复。创建分支时，应当使用`bugfix-<description>-<version_id>`作为分支名称。这里的`description`便是**数据显示不正确**的英文大意，例如`DataError`、`data-error`等等见名知义的语句。

  + 线上测试分支

    终于，项目做到可以线上部署测试的地步了！于是应当创建分支`release-<version_id>`。这个分支将有两种去向：
    + **通过测试，变成`master`分支**，结束了长时间的折磨，并作为最新版本发布。接着你就进入了全新的折磨
    + **没通过测试，变成`dev`分支**，继续折磨前一轮，并向你剧透下一轮折磨如何难受

  + 线上部署分支

    也就是我们常说的`master`分支。这个就不多解释了，不需要附加版本号。

+ 2、先拉取，后提交

  当我们需要提交的时候，一定要查看是不是有新的提交。一定要遵循这个原则：

  **禁止强推，先拉后推。**

  `--force`作为参数可以强行推送自己的分支，但是这样会覆盖掉别人的分支，别人的成果就没了。这是绝对禁止的。

  正确的操作步骤是：

  ```bash
  # 1、拉取分支
  git pull <remote> <branch>
  # 从<远程仓库名>中提取<branch>分支
  # 例如：git pull origin master
  # 即从origin链接的远程库中拉取master分支

  # 2、合并内容
  # 如果互相没有重合的，将会直接下载到当前文件夹下
  # 如果有重合，将会在文件中显示更改，需要手动增删改文字

  # 3、推送分支
  git push -u <remote> <branch>
  # 向<远程仓库名>推送<branch>分支
  # 例如：git push -u origin master
  # 即向origin连接的远程仓库中推送本地的master分
  ```

+ 3、千万不要修改别人的代码

  坚决不可以修改别人的代码。每个人的命名有着每个人的特点，一改就是整个模块全部改，全部改了原作者就蒙了，然后整个项目就在崩溃的边缘反复横跳。

  如果真的要修改，可以尝试这两种：

  + 3.1、和原作者商量，提出哪里不对，给出建议、思路、方法，然后让原作者改

  + 3.2、报告项目经理或者小组长，让他们处理

  + 3.3、继承这个类，然后重写这些方法。虽然有点对不起他，但是不能修改就是不能修改，一个字都不能动。